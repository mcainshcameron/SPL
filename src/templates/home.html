{% extends "base.html" %}
{% set active_page = 'home' %}

{% block title %}SPL - Solo Pro League{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <img src="/static/images/logo.png" alt="SPL Logo" class="hero-logo">
        <h1>Solo Pro League</h1>
        <p class="hero-tagline">La lega calcistica piÃ¹ competitiva di Milano</p>
    </div>
</section>

<!-- SPLNews Ticker -->
<section class="news-ticker">
    <div class="ticker-label">ðŸ“° SPLNews</div>
    <div class="ticker-content">
        <div class="ticker-scroll">
            {% for item in news %}
            <span class="ticker-item">{{ item.headline }}</span>
            {% endfor %}
            {% for item in news %}
            <span class="ticker-item">{{ item.headline }}</span>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Quick Stats -->
<section class="stats-grid">
    <div class="stat-card">
        <div class="stat-value">{{ total_players }}</div>
        <div class="stat-label">Giocatori</div>
    </div>
    <div class="stat-card">
        <div class="stat-value">{{ total_games }}</div>
        <div class="stat-label">Partite</div>
    </div>
    {% if top_performer %}
    <div class="stat-card highlight">
        <div class="stat-value">{{ top_performer.display_name }}</div>
        <div class="stat-label">Top Performer</div>
        <div class="stat-detail">{{ top_performer.PPG|round(2) }} PPG</div>
    </div>
    {% endif %}
</section>

<!-- Recent Games -->
<section class="section">
    <h2>Ultime Partite</h2>
    <div class="games-grid">
        {% for champ, game in recent_games.items() %}
        {% if game %}
        <div class="game-card">
            <div class="game-header">
                <span class="game-championship">{{ champ }}</span>
                <span class="game-date">{{ game.Date[:10] }}</span>
            </div>
            <div class="game-score">
                <div class="team">
                    <span class="team-label">Team A</span>
                    <span class="team-score">{{ game['Team A Goals'] }}</span>
                </div>
                <div class="score-divider">-</div>
                <div class="team">
                    <span class="team-score">{{ game['Team B Goals'] }}</span>
                    <span class="team-label">Team B</span>
                </div>
            </div>
            <div class="game-meta">
                <span>{{ game['Match Type'] }}</span>
                <span>â€¢</span>
                <span>S{{ game.Season }} W{{ game.Gameweek }}</span>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</section>

<!-- Championships -->
<section class="section">
    <h2>Campionati</h2>
    <div class="championship-grid">
        {% for champ in championships %}
        <a href="/classifica/?championship={{ champ }}" class="championship-card">
            <h3>{{ champ }}</h3>
            <p>Vedi classifica â†’</p>
        </a>
        {% endfor %}
    </div>
</section>
{% endblock %}
